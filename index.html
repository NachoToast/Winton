<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Primary Metatags -->
    <title>Winton Overwatch</title>
    <link rel="icon" href="favicon.ico">
    <meta name="title" content="Winton Overwatch">
    <meta name="description" content="Winton Overwatch">

    <!-- Open Graph / Facebook -->
    <meta property="og:site_name" content="Winton Overwatch">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://wintonoverwatch.com/">
    <meta property="og:title" content="Winton Overwatch">
    <meta property="og:description" content="Winton Overwatch">
    <meta property="og:image" content="https://wintonoverwatch.com/winton.png">

    <!-- X: The Everything App (Blaze Your Glory) -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://wintonoverwatch.com/">
    <meta property="twitter:title" content="Winton Overwatch">
    <meta property="twitter:description" content="Winton Overwatch">
    <meta property="twitter:image" content="https://wintonoverwatch.com/winton.png">
</head>
<body>
    <h1>Winton Overwatch</h1>

    <img src="winton.webp" alt="winton overwatch">

    <a href="https://cfloppa.com" target="_blank" rel="noopener noreferrer">cfloppa.com</a>

    <style>
        :root {
            color-scheme: light dark;
        }
        @-moz-document unobservable-document() {
            :root {
                color-scheme: light dark;
            }
        }
        @media (prefers-color-scheme: light) {
          a { background-color: white; }
        }
        @media (prefers-color-scheme: dark) {
          a { background-color: Canvas; }
        }

        html, body {
            margin: 0;
            padding: 0;
            border: none;

            height: 100svh;
            width: 100svw;

            overflow: hidden;

            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        img {
            max-width: 90%;
            max-height: 90%;
            z-index: 3;

            user-select: none;
            animation: rotate 630s infinite linear alternate;
        }

        h1, a {
            text-align: center;
            margin: 0;
            z-index: 3;
        }

        a {
            padding: 0.1em 0.2em;
            border-radius: 4px;
        }

        @keyframes rotate {
            from {
                rotate: 0deg;
                transform: scale(100%);
            }

            to {
                rotate: 360deg;
                transform: scale(200%);
            }
        }

        img.winton-spawn {
            position: absolute;
            animation: forwards linear;
            pointer-events: none;
            z-index: 1;
        }

        img.winton-spawn.golden {
            filter: sepia(1) saturate(3) hue-rotate(15deg) brightness(1.1) contrast(1.1);
            z-index: 2;
        }

        @keyframes spawn-fly {
            from {
                bottom: -256px;
                rotate: 0deg;
            }

            to {
                bottom: 100%;
                rotate: 360deg;
            }
        }

        @keyframes spawn-fly-counter {
            from {
                bottom: -128px;
                rotate: 360deg;
            }

            to {
                bottom: 100%;
                rotate: 0deg;
            }
        }
    </style>

    <script>
        function randomInt(min, max) {
            return min + Math.floor(Math.random() * (max - min));
        }

        function spawnWinton() {
            const img = document.createElement('img');
            img.className = 'winton-spawn';
            img.src = "winton.png";
            img.alt = 'winton overwatch (again)';
            img.setAttribute('aria-hidden', 'true');

            img.style.animationName = Math.random() < 0.5
                ? 'spawn-fly'
                : 'spawn-fly-counter'

            let size;

            if (Math.random() < 0.001) {
                img.classList.add('golden');
                size = 128;
            } else {
                size = randomInt(32, 128);
            }

            img.style.width = size + 'px';
            img.style.height = size + 'px';


            img.style.left = randomInt(0, window.innerWidth - size) + 'px';

            const speed = randomInt(10, 30);

            img.style.animationDuration = `${speed}s`;

            document.body.appendChild(img);

            setTimeout(() => img.remove(), speed * 1000);
        }

        function scheduleNextWinton(secondsTill) {
            setTimeout(() => {
                spawnWinton();

                if (secondsTill <= 0.25) {
                    setInterval(spawnWinton, 250);
                } else {
                    scheduleNextWinton(secondsTill * 0.95);
                }
            }, secondsTill * 1000)
        }

        scheduleNextWinton(5);
    </script>
</body>
</html>
